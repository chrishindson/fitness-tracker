<th:block th:fragment="error-message(field)">
    <span class="nhsuk-error-message" th:id="${id} + '-errors'" th:if="${#fields.hasErrors(field)}">
      <span class="nhsuk-u-visually-hidden">Error:</span>
      <span class="nhsuk-error-message" th:errors="*{__${field}__}"
            th:id="${id} + '-error-message'">-</span>
    </span>
</th:block>
<th:block th:fragment="error-summary(object,dateField)">
  <div aria-labelledby="error-summary-title" class="nhsuk-error-summary" role="alert" tabindex="-1"
       th:if="${#fields.hasErrors()}">
    <h2 class="nhsuk-error-summary__title" id="error-summary-title">
      There is a problem
    </h2>
    <div class="nhsuk-error-summary__body">
      <p>
        Optional description of the errors and how to correct them.<br>Note that the error summary
        should receive focus on page load using the JavaScript that comes with this component.
      </p>
      <ul class="nhsuk-list nhsuk-error-summary__list" role="list">
        <li th:data-error-code="${err.code}" th:each="err, i : *{#fields.detailedErrors()}">
          <a class="nhsuk-link--no-visited-state"
             th:href="'#' + (${dateField} ? ${err.fieldName} +'.day' : ${err.fieldName})">-</a>
        </li>
      </ul>
    </div>
  </div>
</th:block>